<tdp-main-view>
  <div class="main-view--header">
    <tdp-filter-header [options]="options" [form]="form"> </tdp-filter-header>
  </div>
</tdp-main-view>

<div class="tdp-regions-list-body">
  <div class="tdp-regions-list-header">
    <tdp-back-with-title
      class="tdp-regions-list-header--back-component"
      [title]="regionsTitleString"
      (onClick)="goBack()"
    >
    </tdp-back-with-title>
  </div>

  <div class="tdp-regions-list-table">
    <ng-container *ngIf="regions">
      <tdp-table
        [records]="regions"
        [columnsConfiguration]="columnsConfiguration"
        [pageSize]="pageSize"
        [hasActions]="true"
        (onPageChanged)="pageChanged($event)"
        (onSortChanged)="sortChanged($event)"
        (onRowClicked)="openRegionDetails($event)"
      >
        <tdp-table-actions>
          <ng-template let-record="record">
            <tdp-table-action (click)="openEditRegion($event, record)">
              <tdp-pencil-icon
                class="tdp-actions-icon"
                fillColor="#ADADAD"
                [matTooltip]="'button.edit' | translate"
              >
              </tdp-pencil-icon>
            </tdp-table-action>
            <tdp-table-action
              *ngIf="!record.areasCount"
              (click)="removeRegion($event, record)"
            >
              <tdp-trash-icon
                class="tdp-actions-icon"
                fillColor="#ADADAD"
                [matTooltip]="'button.remove' | translate"
              >
              </tdp-trash-icon>
            </tdp-table-action>
          </ng-template>
        </tdp-table-actions>
      </tdp-table>
    </ng-container>
  </div>
</div>

<tdp-create-button
  [text]="'button.createNewRegion' | translate"
  (click)="openCreateRegion()"
></tdp-create-button>
